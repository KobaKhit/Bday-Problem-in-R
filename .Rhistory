df$YYYYMM == counter[i],]$Weight) /
sum(df[df$Empst %in% c("Employed","Unemployed") &
(df$Age>24 & df$Age<65) &
df$YYYYMM == counter[i],]$Weight)
}
}
for(i in 1:length(counter)){
for(k in p) {
D1$k<-
sum(df[df$Empst=="Unemployed" & (df$Age>24 & df$Age<65) &
df$YYYYMM == counter[i],]$Weight) /
sum(df[df$Empst %in% c("Employed","Unemployed") &
(df$Age>24 & df$Age<65) &
df$YYYYMM == counter[i],]$Weight)
}
}
View(`D1`)
for(i in 1:length(counter)){
for(k %in% p) {
D1$k<-
sum(df[df$Empst=="Unemployed" & (df$Age>24 & df$Age<65) &
df$YYYYMM == counter[i],]$Weight) /
sum(df[df$Empst %in% c("Employed","Unemployed") &
(df$Age>24 & df$Age<65) &
df$YYYYMM == counter[i],]$Weight)
}
}
for(k in names(D1)){show(k)}
for(i in 1:length(counter)){
for(k in 1:length(p)) {
D1[,k]<-
sum(df[df$Empst=="Unemployed" & (df$Age>24 & df$Age<65) &
df$YYYYMM == counter[i] &
df$State == names(D1)[k],]$Weight) /
sum(df[df$Empst %in% c("Employed","Unemployed") &
(df$Age>24 & df$Age<65) &
df$YYYYMM == counter[i] &
df$State == names(D1)[k],]$Weight)
}
}
View(`D1`)
for(i in 1:length(counter)){
for(k in 1:length(p)) {
D1[i,k]<-
sum(df[df$Empst=="Unemployed" & (df$Age>24 & df$Age<65) &
df$YYYYMM == counter[i] &
df$State == names(D1)[k],]$Weight) /
sum(df[df$Empst %in% c("Employed","Unemployed") &
(df$Age>24 & df$Age<65) &
df$YYYYMM == counter[i] &
df$State == names(D1)[k],]$Weight)
}
}
View(`D1`)
names(D1)<-c(levels(factor(df$State))+"Male")
names(D1)<-c(levels(factor(df$State)))+"Male"
c(levels(factor(df$State)))
names(D1)+"Male"
names(D1)[1]+"Male"
c(names(D1)[1]+"Male")
c(names(D1)[1],"Male")
paste(names(D1)[1],"Male")
paste(names(D1),"Male")
paste(names(D1),"Male",sep="")
paste(names(D1),"Male",sep="-")
names(D1)<-paste(names(D1),"Male",sep="-")
View(`D1`)
counter<-levels(factor(df$YYYYMM))
D1<-as.data.frame (matrix (nrow = length(counter),
ncol = length(levels(factor(df$State)))))
names(D1)<-c(levels(factor(df$State)))
names(D1)<-paste(names(D1),"Male",sep="-")
counter<-levels(factor(df$YYYYMM))
D1m<-as.data.frame (matrix (nrow = length(counter),
ncol = length(levels(factor(df$State)))))
names(D1m)<-c(levels(factor(df$State)))
names(D1m)<-paste(names(D1m),"Male",sep="-")
rm(D1)
rm(p)
gc(TRUE)
for(i in 1:length(counter)){
for(k in 1:names(D1m) {
D1m[i,k]<-
sum(df[df$Empst=="Unemployed" & (df$Age>24 & df$Age<65) &
df$Gender == "Male" &
df$YYYYMM == counter[i] &
df$State == names(D1m)[k],]$Weight) /
sum(df[df$Empst %in% c("Employed","Unemployed") &
(df$Age>24 & df$Age<65) &
df$Gender == "Male"
df$YYYYMM == counter[i] &
df$State == names(D1m)[k],]$Weight)
}
}
save.image("~/Desktop/wdCPS/CPSresearch.RData")
for(i in 1:length(counter)){
for(k in 1:names(D1m)) {
D1m[i,k]<-
sum(df[df$Empst=="Unemployed" & (df$Age>24 & df$Age<65) &
df$Gender == "Male" &
df$YYYYMM == counter[i] &
df$State == names(D1m)[k],]$Weight) /
sum(df[df$Empst %in% c("Employed","Unemployed") &
(df$Age>24 & df$Age<65) &
df$Gender == "Male"
df$YYYYMM == counter[i] &
df$State == names(D1m)[k],]$Weight)
}
}
for(i in 1:length(counter)){
for(k in 1:length(names(D1m))) {
D1m[i,k]<-
sum(df[df$Empst=="Unemployed" & (df$Age>24 & df$Age<65) &
df$Gender == "Male" &
df$YYYYMM == counter[i] &
df$State == names(D1m)[k],]$Weight) /
sum(df[df$Empst %in% c("Employed","Unemployed") &
(df$Age>24 & df$Age<65) &
df$Gender == "Male"
df$YYYYMM == counter[i] &
df$State == names(D1m)[k],]$Weight)
}
}
for(i in 1:length(counter)){
for(k in 1:length(names(D1m))) {
D1m[i,k]<-
sum(df[df$Empst=="Unemployed" & (df$Age>24 & df$Age<65) &
df$Gender == "Male" &
df$YYYYMM == counter[i] &
df$State == names(D1m)[k],]$Weight) /
sum(df[df$Empst %in% c("Employed","Unemployed") &
(df$Age>24 & df$Age<65) &
df$Gender == "Male" &
df$YYYYMM == counter[i] &
df$State == names(D1m)[k],]$Weight)
}
}
View(`D1m`)
T<-table(df[df$Empst=="Unemployed",]$YYYYMM,df[df$Empst=="Unemployed",]$State)
T
?xtabs
?table
?summarize
summarize(df)
rm(D1)
rm(D1m)
rm(counter)
rm(k)
rm(i)
d<-cbind(df$YYYYMM,df$State,df$Weight)
d
head(d)
names(d)<-c("YYYYMM","State","Weight")
head(d)
names(d)
d<-as.data.frame(d)
head(d)
names(d)<-c("YYYYMM","State","Weight")
head(d)
View(data)
View(df)
head(df)
gc(TRUE)
head(d)
d$State<-df$State
head(d)
summary(d)
levels(factor(d$YYYYMM))
table(d$YYYYMM,d$State)
head(table(d$YYYYMM,d$State))
sum(d$Weight)
sum(d[d$YYYYMM==200804 & d$State=="Me"]$Weight)
sum(d[d$YYYYMM==200804 & d$State=="ME"]$Weight)
sum(d[d$YYYYMM==200804 & d$State=="ME",]$Weight)
rm(d)
rm(T)
save.image("~/Desktop/wdCPS/CPSresearch.RData")
load("~/Desktop/wdCPS/CPSresearch.RData")
tapply(df$weight, list(df$State, df$YYYYMM), sum)
tapply(df$Weight, list(df$State, df$YYYYMM), sum)
tapply(df$Weight, list(df$YYYYMM,df$State), sum)
class(tapply(df$Weight, list(df$YYYYMM,df$State), sum))
?taply
?tapply
class(tapply(df$Weight, list(df$YYYYMM,df$State), sum/sum(df$Weight)))
sum(df$Weight)
class(tapply(df$Weight, list(df$YYYYMM,df$State), sum/5884966607))
class(tapply(df$Weight, list(df$YYYYMM,df$State), FUN=sum/5884966607))
class(tapply(df$Weight, list(df$YYYYMM,df$State), FUN="sum/5884966607"))
tapply(df$Weight, list(df$YYYYMM,df$State), sum)/sum(df$Weight)
tapply(df$Weight, list(df$YYYYMM,df$State), sum)/sum(df$Weight)*100
tapply(df[df$Empst=="Unemployed",]$Weight, list(df[df$Empst=="Unemployed",]$YYYYMM,df[df$Empst=="Unemployed",]$State), sum)/sum(df[df$Empstin c("Unemployed",Employed),]$Weight)*100
tapply(df[df$Empst=="Unemployed",]$Weight, list(df[df$Empst=="Unemployed",]$YYYYMM,df[df$Empst=="Unemployed",]$State), sum)/sum(df[df$Empst in c("Unemployed",Employed),]$Weight)*100
tapply(df[df$Empst=="Unemployed",]$Weight,
list(df[df$Empst=="Unemployed",]$YYYYMM,
df[df$Empst=="Unemployed",]$State), sum) /
sum(df[df$Empst in("Unemployed","Employed"),]$Weight)*100
tapply(df[df$Empst=="Unemployed",]$Weight,
list(df[df$Empst=="Unemployed",]$YYYYMM,
df[df$Empst=="Unemployed",]$State), sum) /
sum(df[df$Empst in c("Unemployed","Employed"),]$Weight)*100
tapply(df[df$Empst=="Unemployed",]$Weight,
list(df[df$Empst=="Unemployed",]$YYYYMM,
df[df$Empst=="Unemployed",]$State), sum) /
sum(df[df$Empst %in% c("Unemployed","Employed"),]$Weight)*100
tapply(df[df$Empst=="Unemployed",]$Weight,
list(df$YYYYMM,df$State), sum) /
sum(df[df$Empst %in% c("Unemployed","Employed"),]$Weight)
tapply(df[df$Empst=="Unemployed",]$Weight,
list(df[df$Empst=="Unemployed",]$YYYYMM,
df[df$Empst=="Unemployed",]$State), sum) /
sum(df[df$Empst %in% c("Unemployed","Employed"),]$Weight)
tapply(df[df$Empst=="Unemployed",]$Weight,
list(df[df$Empst=="Unemployed",]$YYYYMM,
df[df$Empst=="Unemployed",]$State), sum)*100 /
sum(df[df$Empst %in% c("Unemployed","Employed"),]$Weight)
tapply(df[df$Empst=="Unemployed",]$Weight,
list(df[df$Empst=="Unemployed",]$YYYYMM,
df[df$Empst=="Unemployed",]$State),sum)
tapply(df[df$Empst %in% c("Unemployed","Employed"),]$Weight,
list(df[df$Empst %in% c("Unemployed","Employed"),]$YYYYMM,
df[df$Empst %in% c("Unemployed","Employed"),]$State),
sum)
T<-tapply(df[df$Empst=="Unemployed",]$Weight,
list(df[df$Empst=="Unemployed",]$YYYYMM,
df[df$Empst=="Unemployed",]$State),sum)
Th<-tapply(df[df$Empst %in% c("Unemployed","Employed"),]$Weight,
list(df[df$Empst %in% c("Unemployed","Employed"),]$YYYYMM,
df[df$Empst %in% c("Unemployed","Employed"),]$State),
sum)
T/Th
T<-tapply(df[df$Empst=="Unemployed",]$Weight,
list(df[df$Empst=="Unemployed",]$YYYYMM,
df[df$Empst=="Unemployed",]$State),sum) /
tapply(df[df$Empst %in% c("Unemployed","Employed"),]$Weight,
list(df[df$Empst %in% c("Unemployed","Employed"),]$YYYYMM,
df[df$Empst %in% c("Unemployed","Employed"),]$State),sum)
T<-T*100
T
T<-tapply(df[df$Empst=="Unemployed",]$Weight,
list(df[df$Empst=="Unemployed",]$YYYYMM,
df[df$Empst=="Unemployed",]$State),sum)
tapply(df[df$Empst %in% c("Unemployed","Employed"),]$Weight,
list(df[df$Empst %in% c("Unemployed","Employed"),]$YYYYMM,
df[df$Empst %in% c("Unemployed","Employed"),]$State),sum)
T
31514.67/699507.0
31514.67/699507.0
62026.30/683403.0
T<-tapply(df[df$Empst=="Unemployed",]$Weight,
list(df[df$Empst=="Unemployed",]$YYYYMM,
df[df$Empst=="Unemployed",]$State),sum) /
tapply(df[df$Empst %in% c("Unemployed","Employed"),]$Weight,
list(df[df$Empst %in% c("Unemployed","Employed"),]$YYYYMM,
df[df$Empst %in% c("Unemployed","Employed"),]$State),sum)
T
T<-T*100
T
T<-tapply(df[df$Empst=="Unemployed" & df$Gender=="Male",]$Weight,
list(df[df$Empst=="Unemployed" & df$Gender=="Male",]$YYYYMM,
df[df$Empst=="Unemployed" & df$Gender=="Male",],]$State),sum) /
tapply(df[df$Empst %in% c("Unemployed","Employed") & df$Gender=="Male",],]$Weight,
list(df[df$Empst %in% c("Unemployed","Employed") & df$Gender=="Male",],]$YYYYMM,
df[df$Empst %in% c("Unemployed","Employed") & df$Gender=="Male",],]$State),sum)
T<-T*100
T<-tapply(df[df$Empst=="Unemployed" & df$Gender=="Male",]$Weight,
list(df[df$Empst=="Unemployed" & df$Gender=="Male",]$YYYYMM,
df[df$Empst=="Unemployed" & df$Gender=="Male",]$State),sum) /
tapply(df[df$Empst %in% c("Unemployed","Employed") & df$Gender=="Male",]$Weight,
list(df[df$Empst %in% c("Unemployed","Employed") & df$Gender=="Male",]$YYYYMM,
df[df$Empst %in% c("Unemployed","Employed") & df$Gender=="Male",]$State),sum)
T<-T*100
T
temp<-melt(T,id=T[,1], variable_name="series")
gr3<-ggplot(temp, aes(time,value)) + geom_line(aes(colour = series))
require(reshape)
require(ggplot)
require(ggplot2)
temp<-melt(T,id=T[,1], variable_name="series")
gr3<-ggplot(temp, aes(time,value)) + geom_line(aes(colour = series))
gr3
temp
gr3<-ggplot(temp, aes(time,value)) + geom_line(aes(colour = series))
gr3
gr3<-ggplot(temp, aes(T[,1],value)) + geom_line(aes(colour = series))
gr3
temp<-melt(T,id=T[,1], variable_name="series")
gr3<-ggplot(temp, aes(T[,1],value)) + geom_line(aes(colour = series))
gr3
head(temp)
temp<-melt(T,id=T[,1], variable_name="series")
head(temp)
temp<-melt(T,id=T[,1], variable_name='series')
head(temp)
class(T)
T<-as.dataframe(T)
matplot(T)
T<-as.data.frame(T)
head(T)
temp<-melt(T,id=T[,1], variable_name='series')
head(temp)
gr3<-ggplot(temp, aes(T[,1],value)) + geom_line(aes(colour = series))
gr3
names(T)[1]<-"YYYYMM"
temp<-melt(T,id="YYYYMM", variable_name='series')
head(temp)
T<-as.data.frame(T)
T
names(T)[1]<-"YYYYMM"
T
names(T)[0]<-"YYYYMM"
T
T<-tapply(df[df$Empst=="Unemployed" & df$Gender=="Male",]$Weight,
list(df[df$Empst=="Unemployed" & df$Gender=="Male",]$YYYYMM,
df[df$Empst=="Unemployed" & df$Gender=="Male",]$State),sum) /
tapply(df[df$Empst %in% c("Unemployed","Employed") & df$Gender=="Male",]$Weight,
list(df[df$Empst %in% c("Unemployed","Employed") & df$Gender=="Male",]$YYYYMM,
df[df$Empst %in% c("Unemployed","Employed") & df$Gender=="Male",]$State),sum)
T<-T*100
T<-as.data.frame(T)
T
head(T)
names(T)
T[1,1]
T[0,1]
T[1,0]
T<-tapply(df[df$Empst=="Unemployed" & df$Gender=="Male",]$Weight,
list(df[df$Empst=="Unemployed" & df$Gender=="Male",]$YYYYMM,
df[df$Empst=="Unemployed" & df$Gender=="Male",]$State),sum) /
tapply(df[df$Empst %in% c("Unemployed","Employed") & df$Gender=="Male",]$Weight,
list(df[df$Empst %in% c("Unemployed","Employed") & df$Gender=="Male",]$YYYYMM,
df[df$Empst %in% c("Unemployed","Employed") & df$Gender=="Male",]$State),sum)
head(T)
names(T)
T[1,]
T[,1]
T[,1][1]
T[,1][[1]]
as.data.frame(as.table(T))
head(as.data.frame(as.table(T)))
T<-T*100
names(T)<-c("YYYYMM","State","UnR")
head(T)
T<-as.data.frame(as.table(T))
names(T)<-c("YYYYMM","State","UnR")
head(T)
gr3<-ggplot(temp, aes(YYYYMM,UnR)) + geom_line(aes(colour = State))
gr3
gr3<-ggplot(T, aes(YYYYMM,UnR)) + geom_line(aes(colour = State))
gr3
gr3<-ggplot(T, aes(YYYYMM,UnR,group=1)) + geom_line(aes(colour = State))
gr3
gr33<-ggplot(T, aes(YYYYMM,UnR,group=1)) + geom_line() + facet_grid(State ~ .)
gr33
gr3
gr3<-ggplot(T, aes(YYYYMM,UnR,group=1)) + geom_line(aes(colour = State))
gr3
head(T)
gr3<-ggplot(T, aes(YYYYMM,UnR,group=1)) + geom_line(aes(colour = T$State))
gr3
gr3<-ggplot(T, aes(YYYYMM,UnR,group=State)) + geom_line(aes(colour = T$State))
gr3
gr33<-ggplot(T, aes(YYYYMM,UnR,group=State)) + geom_line() + facet_grid(State ~ .)
gr33
gr3
d<-data.frame(Math=c(34,14,6,3),Agri=c(52,27,5,9),Hum=c(15,17,8,3),Oth=c(12,11,1,6))
d
hist(d)
barplot(d)
d$Math
plot(d)
plot(d,type="b")
plot(d,type="bar")
?plot
plot(d,type="h")
plot(d,type="p")
plot.factors(d)
barplot(d)
?barplot
class(d$Math)
as.matrix(d)
barplot(as.matrix(d))
barplot(transpose(as.matrix(d)))
?t
barplot(t(as.matrix(d)))
hist(t(as.matrix(d)))
hist(as.matrix(d))
barplot(t(as.matrix(d)))
?barplot
barplot(t(as.matrix(d)),beside=TRUE)
as.table(d)
table()
table(d)
as.table(as.matrix(d))
plot(as.table(as.matrix(d)))
barplot(as.table(as.matrix(d)))
d<-as.table(as.matrix(d))
d
rownames(d)
rownames(d)<-c("1","2","3","4+")
d
barplot(d,beside=TRUE)
barplot(t(d),beside=TRUE)
?barplot
barplot(t(d),beside=TRUE,legend.text=TRUE)
prop.table
?prop.table
prop.table(d)
prop.table(d)*100
round(prop.table(d)*100,n=2)
round(prop.table(d)*100,2)
dp<-round(prop.table(d)*100,2)
dp
barplot(t(dp),beside=TRUE,legend.text=TRUE)
?add.margin
add.margins
addmargins
addmargin
?addmargins
addmargins(dp)
barplot(addmargins(dp))
barplot(addmargins(dp),beside=TRUE)
barplot(t(addmargins(dp)),beside=TRUE)
summary(d)
d
summary(dp)
summary(prop.table(d))
prop.table(d)
summary(prop.table(d)*100)
summary(t(prop.table(d)*100))
str(summary(d))
dp
addmargins(dp)
addmargins(d)
34/223
3/223
addmargins(dp)
(1*0.1525+2*0.0629+3*0.0269+4*0.0135)/4
(1*0.1525+2*0.0629+3*0.0269+4*0.0135)
(1*0.1525+2*0.0628+3*0.0269+4*0.0135)
(1*0.1525+2*0.0629+3*0.0269+4*0.0135)/4/0.25
(1*(34/57)+2*(14/57)+3*(6/57)+4*(3/57))/4
(1*(34/57)+2*(14/57)+3*(6/57)+4*(3/57))
1.69/1.98
1.69*1.4
0.85*40
1.98/1.4
1.98/100*40
1.69/100*40
(1.98-1.69)/1.69
1.69*1.172
1.98/1.172
?pipe
?egrep
library(texas)
library(holdem)
?holdem
?print
?seq
seq(0,100,10)
for(i in seq(0,100,10)) {}
for(i in seq(0,1,0.1)) {
b<-0.2*((1-i)/i)
}
for(i in seq(0,1,0.1)) {
b<-0.2*((1-i)/i)
print(b)
}
b<-0.2*((1-1/6)/(1/6))
b
b<-0.2*((1-0.1)/0.1)
b
for(i in seq(0,1,0.1)) {
b<-0.2*((1-i)/i)
print(c(i,b))
}
1/6
for(i in seq(0,1,0.1)) {
b<-0.2*((1-i)/i)
print(round(c(i,b),2))
}
for(i in seq(0,1,0.1)) {
b<-0.2*((1-i)/i)
print(round(c(i,"  ",b),2))
}
for(i in seq(0,1,0.1)) {
b<-0.2*((1-i)/i)
print(round(c(i,b),2))
}
for(i in seq(0,1,0.1)) {
b<-0.2*((1-i)/i)
print(round(c(i,b),2))
}
for(i in seq(0,1,0.1)) {
b<-0.2*((1-i)/i)
print(c("q","b"))
print(round(c(i,b),2))
}
print(c("q","b"))
for(i in seq(0,1,0.1)) {
b<-0.2*((1-i)/i)
print(round(c(i,b),2))
}
dir()
getwd()
setwd("~/Desktop/DataScience/Birthday Problem")
kniw("Birthday Problem simulation in R.Rmd","Birthday Problem simulation in R.md")
knit("Birthday Problem simulation in R.Rmd","Birthday Problem simulation in R.md")
library(knitr)
knit("Birthday Problem simulation in R.Rmd","Birthday Problem simulation in R.md")
knit("WP post/Birthday Problem simulation in R.Rmd","WP post/Birthday Problem simulation in R.md")
knit("WP post/Birthday Problem simulation in R.Rmd","WP post/Birthday Problem simulation in R.md")
